---
import { getCollection } from 'astro:content'
import PageLayout from '@layouts/PageLayout.astro'
import { WORK } from '@consts'
import WorkItem from '@components/WorkItem.astro'

const collection = (await getCollection('work')).sort(
  (a, b) =>
    new Date(b.data.dateStart).valueOf() - new Date(a.data.dateStart).valueOf()
)
---

<PageLayout title={WORK.TITLE} description={WORK.DESCRIPTION}>
  <h1 class="animate">Work Experience</h1>
  <ul class="Items gap2">
    {collection.map((entry) => <WorkItem entry={entry} />)}
  </ul>
</PageLayout>
